# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

# Nome do servidor que aparecerá no registro do Smithery
name: "FigmaMind"

# Descrição do que o servidor faz
description: "Extrai componentes do Figma e os converte para JSON padronizado para uso em IA"

# Comando de inicialização do servidor
startCommand:
  # Especificando explicitamente o tipo stdio e configurando para compatibilidade estrita
  type: stdio
  # Schema de configuração que será solicitado ao usuário
  configSchema:
    type: object
    properties:
      figmaToken:
        type: string
        description: "Token de acesso à API do Figma"
        pattern: "^figd_[A-Za-z0-9_-]+$"
    required:
      - figmaToken
  # Função que gera o comando para iniciar o servidor com Node.js 20
  commandFunction: |
    (config) => ({
      command: "./start-with-node20.sh",
      args: [],
      env: {
        FIGMA_TOKEN: config.figmaToken,
        MCP_USE_STDIO: "true",
        MCP_SUPPRESS_LOGS: "true"
      }
    })

# Configuração para build do contêiner Docker
build:
  dockerfile: "Dockerfile"
  # Especificar Node.js 20 para o contêiner Docker
  args:
    NODE_VERSION: "20"
